(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[32],{1160:function(t,e,n){"use strict";n.r(e);var a=n(50),r=n(29),c=n(103),s=n(0),o=n(128),u=n(40),i=n(22),l=n(130),p=n(126),d=n(328),h=n(95),b=n(346),j=n(2),f=b.a.Option,m=function(t){var e=t.handleSubmit,n=t.handleChange,a=(t.setValues,t.values),r=t.handleCategoryChange,c=t.categories,s=t.subOptions,o=t.arrayOfSubs,u=t.setArrayOfSubs,i=t.selectedCategory,l=a.title,p=a.description,d=a.price,h=a.category,m=(a.subs,a.shipping),O=a.quantity,v=(a.images,a.colors),x=a.brands,g=a.color,y=a.brand;return Object(j.jsxs)("form",{onSubmit:e,children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Title"}),Object(j.jsx)("input",{type:"text",name:"title",className:"form-control",value:l,onChange:n})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Description"}),Object(j.jsx)("input",{type:"text",name:"description",className:"form-control",value:p,onChange:n})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Price"}),Object(j.jsx)("input",{type:"number",name:"price",className:"form-control",value:d,onChange:n})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Shipping"}),Object(j.jsxs)("select",{value:"Yes"===m?"Yes":"No",name:"shipping",className:"form-control",onChange:n,children:[Object(j.jsx)("option",{value:"No",children:"No"}),Object(j.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Quantity"}),Object(j.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:O,onChange:n})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Color"}),Object(j.jsx)("select",{value:g,name:"color",className:"form-control",onChange:n,children:v.map((function(t){return Object(j.jsx)("option",{value:t,children:t},t)}))})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Brand"}),Object(j.jsx)("select",{value:y,name:"brand",className:"form-control",onChange:n,children:x.map((function(t){return Object(j.jsx)("option",{value:t,children:t},t)}))})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Category"}),Object(j.jsx)("select",{name:"category",className:"form-control",onChange:r,value:i||h._id,children:c.length>0&&c.map((function(t){return Object(j.jsx)("option",{value:t._id,children:t.name},t._id)}))})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Sub Categories"}),Object(j.jsx)(b.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:o,onChange:function(t){return u(t)},children:s.length&&s.map((function(t){return Object(j.jsx)(f,{value:t._id,children:t.name},t._id)}))})]}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},O={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""};e.default=function(t){var e=t.match,n=t.history,b=Object(s.useState)(O),f=Object(c.a)(b,2),v=f[0],x=f[1],g=Object(s.useState)([]),y=Object(c.a)(g,2),N=y[0],w=y[1],k=Object(s.useState)([]),C=Object(c.a)(k,2),S=C[0],A=C[1],E=Object(s.useState)([]),P=Object(c.a)(E,2),R=P[0],_=P[1],D=Object(s.useState)(""),T=Object(c.a)(D,2),I=T[0],G=T[1],L=Object(s.useState)(!1),Y=Object(c.a)(L,2),U=Y[0],B=Y[1],q=Object(i.c)((function(t){return Object(r.a)({},t)})).user,V=e.params.slug;Object(s.useEffect)((function(){F(),J()}),[]);var F=function(){Object(l.c)(V).then((function(t){x(Object(r.a)(Object(r.a)({},v),t.data)),Object(p.d)(t.data.category._id).then((function(t){A(t.data)}));var e=[];t.data.subs.map((function(t){e.push(t._id)})),console.log("ARR",e),_((function(t){return e}))}))},J=function(){return Object(p.b)().then((function(t){console.log("GET CATEGORIES IN UPDATE PRODUCT",t.data),w(t.data)}))};return Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-2",children:Object(j.jsx)(o.a,{})}),Object(j.jsxs)("div",{className:"col-md-10",children:[U?Object(j.jsx)(h.a,{className:"text-danger h1"}):Object(j.jsx)("h4",{children:"Product update"}),Object(j.jsx)("div",{className:"p-3",children:Object(j.jsx)(d.a,{values:v,setValues:x,setLoading:B})}),Object(j.jsx)(m,{handleSubmit:function(t){t.preventDefault(),B(!0),v.subs=R,v.category=I||v.category,Object(l.j)(V,v,q.token).then((function(t){B(!1),u.b.success('"'.concat(t.data.title,'" is updated')),n.push("/admin/products")})).catch((function(t){console.log(t),B(!1),u.b.error(t.response.data.err)}))},handleChange:function(t){x(Object(r.a)(Object(r.a)({},v),{},Object(a.a)({},t.target.name,t.target.value)))},setValues:x,values:v,handleCategoryChange:function(t){t.preventDefault(),console.log("CLICKED CATEGORY",t.target.value),x(Object(r.a)(Object(r.a)({},v),{},{subs:[]})),G(t.target.value),Object(p.d)(t.target.value).then((function(t){console.log("SUB OPTIONS ON CATGORY CLICK",t),A(t.data)})),console.log("EXISTING CATEGORY values.category",v.category),v.category._id===t.target.value&&F(),_([])},categories:N,subOptions:S,arrayOfSubs:R,setArrayOfSubs:_,selectedCategory:I}),Object(j.jsx)("hr",{})]})]})})}},126:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return p})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return h}));var a=n(12),r=n.n(a),c=n(13),s=n(24),o=n.n(s),u=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/categories"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/category/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(r.a.mark((function t(e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delete("".concat("http://localhost:8000/api","/category/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(r.a.mark((function t(e,n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.put("".concat("http://localhost:8000/api","/category/").concat(e),n,{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(r.a.mark((function t(e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/category"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/category/subs/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},128:function(t,e,n){"use strict";n(0);var a=n(28),r=n(2);e.a=function(){return Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{className:"nav flex-column",children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/coupon",className:"nav-link",children:"Coupon"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/user/password",className:"nav-link",children:"Password"})})]})})}},130:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return i})),n.d(e,"i",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"j",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"f",(function(){return b})),n.d(e,"h",(function(){return j})),n.d(e,"g",(function(){return f})),n.d(e,"b",(function(){return m}));var a=n(12),r=n.n(a),c=n(13),s=n(24),o=n.n(s),u=function(){var t=Object(c.a)(r.a.mark((function t(e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/product"),e,{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),i=function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/products/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(c.a)(r.a.mark((function t(e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delete("".concat("http://localhost:8000/api","/product/").concat(e),{headers:{authtoken:n}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/product/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(r.a.mark((function t(e,n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.put("".concat("http://localhost:8000/api","/product/").concat(e),n,{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(r.a.mark((function t(e,n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/products"),{sort:e,order:n,page:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/products/total"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(c.a)(r.a.mark((function t(e,n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.put("".concat("http://localhost:8000/api","/product/star/").concat(e),{star:n},{headers:{authtoken:a}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat("http://localhost:8000/api","/product/related/").concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.post("".concat("http://localhost:8000/api","/search/filters"),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},328:function(t,e,n){"use strict";var a=n(29),r=(n(0),n(505)),c=n.n(r),s=n(24),o=n.n(s),u=n(22),i=n(1154),l=n(1152),p=n(2);e.a=function(t){var e=t.values,n=t.setValues,r=t.setLoading,s=Object(u.c)((function(t){return Object(a.a)({},t)})).user;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"row",children:e.images&&e.images.map((function(t){return Object(p.jsx)(i.a,{count:"X",onClick:function(){return c=t.public_id,r(!0),void o.a.post("".concat("http://localhost:8000/api","/removeimage"),{public_id:c},{headers:{authtoken:s?s.token:""}}).then((function(t){r(!1);var s=e.images.filter((function(t){return t.public_id!==c}));n(Object(a.a)(Object(a.a)({},e),{},{images:s}))})).catch((function(t){console.log(t),r(!1)}));var c},style:{cursor:"pointer"},children:Object(p.jsx)(l.a,{src:t.url,size:100,shape:"square",className:"ml-3"})},t.public_id)}))}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("label",{className:"btn btn-primary btn-raised mt-3",children:["Choose File",Object(p.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"images/*",onChange:function(t){var u=t.target.files,i=e.images;if(u){r(!0);for(var l=0;l<u.length;l++)c.a.imageFileResizer(u[l],720,720,"JPEG",100,0,(function(t){o.a.post("".concat("http://localhost:8000/api","/uploadimages"),{image:t},{headers:{authtoken:s?s.token:""}}).then((function(t){console.log("IMAGE UPLOAD RES DATA",t),r(!1),i.push(t.data),n(Object(a.a)(Object(a.a)({},e),{},{images:i}))})).catch((function(t){r(!1),console.log("CLOUDINARY UPLOAD ERR",t)}))}),"base64")}}})]})})]})}}}]);
//# sourceMappingURL=32.5bfa3b75.chunk.js.map